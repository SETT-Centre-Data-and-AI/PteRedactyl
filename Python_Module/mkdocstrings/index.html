
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation Site for the Pteredactyl Python Module, Gradio Webapp, API.">
      
      
        <meta name="author" content="Matt Stammers, Cai Davis, Michael George">
      
      
        <link rel="canonical" href="https://github.com/MattStammers/Pteredactyl/Python_Module/mkdocstrings/">
      
      
        <link rel="prev" href="../anonymising_dataframes/">
      
      
        <link rel="next" href="../developing-contributing/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.27">
    
    
      
        <title>Mkdocstrings - Pteredactyl Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/styles/atom-one-dark.min.css">
    
      <link rel="stylesheet" href="../../assets/css/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Pteredactyl Documentation" class="md-header__button md-logo" aria-label="Pteredactyl Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pteredactyl Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Mkdocstrings
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/MattStammers/Pteredactyl" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Pteredactyl GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Pteredactyl Documentation" class="md-nav__button md-logo" aria-label="Pteredactyl Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Pteredactyl Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/MattStammers/Pteredactyl" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Pteredactyl GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../abstract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Abstract
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python_Module
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Python_Module
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../landing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examining_results/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examining Results
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reusing_an_analyser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reusing An Analyser
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../selecting_entities_to_redact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selecting Entities To Redact
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../passing_custom_regex_entities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Passing Custom Regex Entities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../anonymising_dataframes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Anonymising DataFrames
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Mkdocstrings
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Mkdocstrings
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl" class="md-nav__link">
    <span class="md-ellipsis">
      pteredactyl
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pteredactyl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defaults" class="md-nav__link">
    <span class="md-ellipsis">
      Defaults
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.defaults" class="md-nav__link">
    <span class="md-ellipsis">
      defaults
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.defaults.change_model" class="md-nav__link">
    <span class="md-ellipsis">
      change_model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="change_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.defaults.change_model--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.defaults.change_model--returns" class="md-nav__link">
    <span class="md-ellipsis">
      Returns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.defaults.show_defaults" class="md-nav__link">
    <span class="md-ellipsis">
      show_defaults
    </span>
  </a>
  
    <nav class="md-nav" aria-label="show_defaults">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.defaults.show_defaults--returns" class="md-nav__link">
    <span class="md-ellipsis">
      Returns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      exceptions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.exceptions.MissingRegexRecogniserError" class="md-nav__link">
    <span class="md-ellipsis">
      MissingRegexRecogniserError
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redactor" class="md-nav__link">
    <span class="md-ellipsis">
      Redactor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.redactor.create_analyser" class="md-nav__link">
    <span class="md-ellipsis">
      create_analyser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="create_analyser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#redactor_analyser" class="md-nav__link">
    <span class="md-ellipsis">
      Redactor Analyser
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.redactor.analyse" class="md-nav__link">
    <span class="md-ellipsis">
      analyse
    </span>
  </a>
  
    <nav class="md-nav" aria-label="analyse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#redactor_anonymiser" class="md-nav__link">
    <span class="md-ellipsis">
      Redactor Anonymiser
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.redactor.anonymise" class="md-nav__link">
    <span class="md-ellipsis">
      anonymise
    </span>
  </a>
  
    <nav class="md-nav" aria-label="anonymise">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regex_check_functions" class="md-nav__link">
    <span class="md-ellipsis">
      Regex Check Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.regex_check_functions" class="md-nav__link">
    <span class="md-ellipsis">
      regex_check_functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.regex_check_functions.is_nhs_number" class="md-nav__link">
    <span class="md-ellipsis">
      is_nhs_number
    </span>
  </a>
  
    <nav class="md-nav" aria-label="is_nhs_number">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regex_entities" class="md-nav__link">
    <span class="md-ellipsis">
      Regex Entities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.regex_entities" class="md-nav__link">
    <span class="md-ellipsis">
      regex_entities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.regex_entities.build_pteredactyl_recogniser" class="md-nav__link">
    <span class="md-ellipsis">
      build_pteredactyl_recogniser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.regex_entities.build_regex_entity_recogniser_list" class="md-nav__link">
    <span class="md-ellipsis">
      build_regex_entity_recogniser_list
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.regex_entities.rebuild_analyser_regex_recognisers" class="md-nav__link">
    <span class="md-ellipsis">
      rebuild_analyser_regex_recognisers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="rebuild_analyser_regex_recognisers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#support" class="md-nav__link">
    <span class="md-ellipsis">
      Support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support" class="md-nav__link">
    <span class="md-ellipsis">
      support
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.find_substring_positions" class="md-nav__link">
    <span class="md-ellipsis">
      find_substring_positions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.load_nlp_configuration" class="md-nav__link">
    <span class="md-ellipsis">
      load_nlp_configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.load_nlp_engine" class="md-nav__link">
    <span class="md-ellipsis">
      load_nlp_engine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.load_registry" class="md-nav__link">
    <span class="md-ellipsis">
      load_registry
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.load_spacy_model" class="md-nav__link">
    <span class="md-ellipsis">
      load_spacy_model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.load_transformers_recognizer" class="md-nav__link">
    <span class="md-ellipsis">
      load_transformers_recognizer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.return_allowed_results" class="md-nav__link">
    <span class="md-ellipsis">
      return_allowed_results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.split_results_into_individual_words" class="md-nav__link">
    <span class="md-ellipsis">
      split_results_into_individual_words
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developing-contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developing/Contributing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Webapp-API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Webapp-API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Webapp-API/introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Webapp-API/gradio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gradio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Webapp-API/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Webapp-API/developing-contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developing/Contributing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl" class="md-nav__link">
    <span class="md-ellipsis">
      pteredactyl
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pteredactyl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defaults" class="md-nav__link">
    <span class="md-ellipsis">
      Defaults
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.defaults" class="md-nav__link">
    <span class="md-ellipsis">
      defaults
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.defaults.change_model" class="md-nav__link">
    <span class="md-ellipsis">
      change_model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="change_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.defaults.change_model--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.defaults.change_model--returns" class="md-nav__link">
    <span class="md-ellipsis">
      Returns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.defaults.show_defaults" class="md-nav__link">
    <span class="md-ellipsis">
      show_defaults
    </span>
  </a>
  
    <nav class="md-nav" aria-label="show_defaults">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.defaults.show_defaults--returns" class="md-nav__link">
    <span class="md-ellipsis">
      Returns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      exceptions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.exceptions.MissingRegexRecogniserError" class="md-nav__link">
    <span class="md-ellipsis">
      MissingRegexRecogniserError
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redactor" class="md-nav__link">
    <span class="md-ellipsis">
      Redactor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.redactor.create_analyser" class="md-nav__link">
    <span class="md-ellipsis">
      create_analyser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="create_analyser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#redactor_analyser" class="md-nav__link">
    <span class="md-ellipsis">
      Redactor Analyser
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.redactor.analyse" class="md-nav__link">
    <span class="md-ellipsis">
      analyse
    </span>
  </a>
  
    <nav class="md-nav" aria-label="analyse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#redactor_anonymiser" class="md-nav__link">
    <span class="md-ellipsis">
      Redactor Anonymiser
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.redactor.anonymise" class="md-nav__link">
    <span class="md-ellipsis">
      anonymise
    </span>
  </a>
  
    <nav class="md-nav" aria-label="anonymise">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regex_check_functions" class="md-nav__link">
    <span class="md-ellipsis">
      Regex Check Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.regex_check_functions" class="md-nav__link">
    <span class="md-ellipsis">
      regex_check_functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.regex_check_functions.is_nhs_number" class="md-nav__link">
    <span class="md-ellipsis">
      is_nhs_number
    </span>
  </a>
  
    <nav class="md-nav" aria-label="is_nhs_number">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regex_entities" class="md-nav__link">
    <span class="md-ellipsis">
      Regex Entities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.regex_entities" class="md-nav__link">
    <span class="md-ellipsis">
      regex_entities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.regex_entities.build_pteredactyl_recogniser" class="md-nav__link">
    <span class="md-ellipsis">
      build_pteredactyl_recogniser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.regex_entities.build_regex_entity_recogniser_list" class="md-nav__link">
    <span class="md-ellipsis">
      build_regex_entity_recogniser_list
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.regex_entities.rebuild_analyser_regex_recognisers" class="md-nav__link">
    <span class="md-ellipsis">
      rebuild_analyser_regex_recognisers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="rebuild_analyser_regex_recognisers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#support" class="md-nav__link">
    <span class="md-ellipsis">
      Support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support" class="md-nav__link">
    <span class="md-ellipsis">
      support
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.find_substring_positions" class="md-nav__link">
    <span class="md-ellipsis">
      find_substring_positions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.load_nlp_configuration" class="md-nav__link">
    <span class="md-ellipsis">
      load_nlp_configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.load_nlp_engine" class="md-nav__link">
    <span class="md-ellipsis">
      load_nlp_engine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.load_registry" class="md-nav__link">
    <span class="md-ellipsis">
      load_registry
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.load_spacy_model" class="md-nav__link">
    <span class="md-ellipsis">
      load_spacy_model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.load_transformers_recognizer" class="md-nav__link">
    <span class="md-ellipsis">
      load_transformers_recognizer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.return_allowed_results" class="md-nav__link">
    <span class="md-ellipsis">
      return_allowed_results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pteredactyl.pteredactyl.support.split_results_into_individual_words" class="md-nav__link">
    <span class="md-ellipsis">
      split_results_into_individual_words
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Mkdocstrings</h1>

<h3 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h3>
<p>The <code>pteredactyl</code> module provides various functions and classes for data anonymization and redaction.</p>


<div class="doc doc-object doc-module">



<a id="pteredactyl"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">











  </div>

    </div>

</div><h3 id="defaults">Defaults<a class="headerlink" href="#defaults" title="Permanent link">&para;</a></h3>


<div class="doc doc-object doc-module">



<a id="pteredactyl.pteredactyl.defaults"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="pteredactyl.pteredactyl.defaults.change_model" class="doc doc-heading">
            <code class=" language-python"><span class="n">change_model</span><span class="p">(</span><span class="n">new_model</span><span class="p">)</span></code>

<a href="#pteredactyl.pteredactyl.defaults.change_model" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Change the default NER model.</p>
<h4 id="pteredactyl.pteredactyl.defaults.change_model--parameters">Parameters<a class="headerlink" href="#pteredactyl.pteredactyl.defaults.change_model--parameters" title="Permanent link">&para;</a></h4>
<p>new_model : str
    The new model path to be set as the default NER model.</p>
<h4 id="pteredactyl.pteredactyl.defaults.change_model--returns">Returns<a class="headerlink" href="#pteredactyl.pteredactyl.defaults.change_model--returns" title="Permanent link">&para;</a></h4>
<p>None</p>

            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\defaults.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">change_model</span><span class="p">(</span><span class="n">new_model</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Change the default NER model.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    new_model : str</span>
<span class="sd">        The new model path to be set as the default NER model.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">DEFAULT_NER_MODEL</span>
    <span class="n">DEFAULT_NER_MODEL</span> <span class="o">=</span> <span class="n">new_model</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DEFAULT_NER_MODEL changed to: </span><span class="si">{</span><span class="n">DEFAULT_NER_MODEL</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pteredactyl.pteredactyl.defaults.show_defaults" class="doc doc-heading">
            <code class=" language-python"><span class="n">show_defaults</span><span class="p">()</span></code>

<a href="#pteredactyl.pteredactyl.defaults.show_defaults" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Print the default values used by pteredactyl.</p>
<p>This function shows the default values for the following variables:
- DEFAULT_NER_MODEL (for model_path)
- DEFAULT_SPACY_MODEL (for spacy_model)
- DEFAULT_ENTITIES (for entities)
- DEFAULT_REGEX_ENTITIES (for regex_entities)</p>
<h4 id="pteredactyl.pteredactyl.defaults.show_defaults--returns">Returns<a class="headerlink" href="#pteredactyl.pteredactyl.defaults.show_defaults--returns" title="Permanent link">&para;</a></h4>
<p>None</p>

            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\defaults.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">show_defaults</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Print the default values used by pteredactyl.</span>

<span class="sd">    This function shows the default values for the following variables:</span>
<span class="sd">    - DEFAULT_NER_MODEL (for model_path)</span>
<span class="sd">    - DEFAULT_SPACY_MODEL (for spacy_model)</span>
<span class="sd">    - DEFAULT_ENTITIES (for entities)</span>
<span class="sd">    - DEFAULT_REGEX_ENTITIES (for regex_entities)</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PteRedactyl Defaults&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--------------------&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DEFAULT_NER_MODEL:      </span><span class="si">{</span><span class="n">DEFAULT_NER_MODEL</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DEFAULT_SPACY_MODEL:    </span><span class="si">{</span><span class="n">DEFAULT_SPACY_MODEL</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DEFAULT_ENTITIES:       </span><span class="si">{</span><span class="n">DEFAULT_ENTITIES</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DEFAULT_REGEX_ENTITIES: </span><span class="si">{</span><span class="n">DEFAULT_REGEX_ENTITIES</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="exceptions">Exceptions<a class="headerlink" href="#exceptions" title="Permanent link">&para;</a></h3>


<div class="doc doc-object doc-module">



<a id="pteredactyl.pteredactyl.exceptions"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="pteredactyl.pteredactyl.exceptions.MissingRegexRecogniserError" class="doc doc-heading">
            <code>MissingRegexRecogniserError</code>


<a href="#pteredactyl.pteredactyl.exceptions.MissingRegexRecogniserError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code>KeyError</code></p>


      <p>Exception raised when a regex recogniser is requested but not found in the supported regex_entities list.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="pteredactyl.pteredactyl.exceptions.MissingRegexRecogniserError.message">message</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The error message.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>pteredactyl\pteredactyl\exceptions.py</code></summary>
                <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MissingRegexRecogniserError</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exception raised when a regex recogniser is requested but not found in the supported regex_entities list.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        message (str): The error message.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;No regex settings could detected in pteredactyl.regex_entities&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="redactor">Redactor<a class="headerlink" href="#redactor" title="Permanent link">&para;</a></h2>
<p>This module provides functionalities for text redaction.</p>


<div class="doc doc-object doc-function">



<a id="pteredactyl.pteredactyl.redactor.create_analyser"></a>
    <div class="doc doc-contents first">

      <p>Create an analyser engine with a Transformers NER model and spaCy model.</p>

            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\redactor.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">create_analyser</span><span class="p">(</span>
    <span class="n">model_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">spacy_model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SPACY_MODEL</span><span class="p">,</span>
    <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span>
    <span class="n">regex_entities</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">PteredactylRecogniser</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_REGEX_ENTITIES</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnalyzerEngine</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an analyser engine with a Transformers NER model and spaCy model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">model_path</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No model path provided for NER model.&quot;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using model path: </span><span class="si">{</span><span class="n">model_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">regex_entities</span><span class="p">:</span>
        <span class="n">regex_entities</span> <span class="o">=</span> <span class="n">build_regex_entity_recogniser_list</span><span class="p">(</span>
            <span class="n">regex_entities</span><span class="o">=</span><span class="n">regex_entities</span>
        <span class="p">)</span>

    <span class="n">load_spacy_model</span><span class="p">(</span><span class="n">spacy_model</span><span class="p">)</span>

    <span class="n">transformers_recogniser</span> <span class="o">=</span> <span class="n">load_transformers_recognizer</span><span class="p">(</span><span class="n">model_path</span><span class="p">)</span>

    <span class="n">nlp_configuration</span> <span class="o">=</span> <span class="n">load_nlp_configuration</span><span class="p">(</span>
        <span class="n">language</span><span class="o">=</span><span class="n">language</span><span class="p">,</span> <span class="n">spacy_model</span><span class="o">=</span><span class="n">spacy_model</span>
    <span class="p">)</span>

    <span class="n">registry</span> <span class="o">=</span> <span class="n">load_registry</span><span class="p">(</span>
        <span class="n">transformers_recogniser</span><span class="o">=</span><span class="n">transformers_recogniser</span><span class="p">,</span> <span class="n">regex_entities</span><span class="o">=</span><span class="n">regex_entities</span>
    <span class="p">)</span>

    <span class="n">nlp_engine</span> <span class="o">=</span> <span class="n">load_nlp_engine</span><span class="p">(</span>
        <span class="n">presidio_logger</span><span class="o">=</span><span class="n">presidio_logger</span><span class="p">,</span> <span class="n">nlp_configuration</span><span class="o">=</span><span class="n">nlp_configuration</span>
    <span class="p">)</span>

    <span class="n">analyser</span> <span class="o">=</span> <span class="n">AnalyzerEngine</span><span class="p">(</span><span class="n">nlp_engine</span><span class="o">=</span><span class="n">nlp_engine</span><span class="p">,</span> <span class="n">registry</span><span class="o">=</span><span class="n">registry</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">analyser</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><h3 id="redactor_analyser">Redactor Analyser<a class="headerlink" href="#redactor_analyser" title="Permanent link">&para;</a></h3>


<div class="doc doc-object doc-function">



<a id="pteredactyl.pteredactyl.redactor.analyse"></a>
    <div class="doc doc-contents first">

      <p>Analyses text using the provided NER models and entities, and returns list of those identified.
It is recommended to first create an analyser and feed this in to be reused with:
    &gt;&gt;&gt; analyser = create_analyser()
    &gt;&gt;&gt; analyser(text=text, analyser=analyser)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text to be analyzed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>analyser</code></td>
            <td>
                  <code><span title="presidio_analyzer.AnalyzerEngine">AnalyzerEngine</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An instance of AnalyzerEngine. If not provided, a new analyser will be created
(recommend creating first viacreate_analyser(), before feeding in).</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>entities</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of entity types to analyse. If not provided, a default list will be used.</p>
              </div>
            </td>
            <td>
                  <code><span title="pteredactyl.defaults.DEFAULT_ENTITIES">DEFAULT_ENTITIES</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>regex_entities</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of regex entities or PteredactylRecognisers to analyse. If not provided, a default list will be used.</p>
              </div>
            </td>
            <td>
                  <code><span title="pteredactyl.defaults.DEFAULT_REGEX_ENTITIES">DEFAULT_REGEX_ENTITIES</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>model_path</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the model used for analysis (e.g. 'StanfordAIMI/stanford-deidentifier-base'). Used only if analyser not provided.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>spacy_model</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The spaCy model to use (e.g. 'en_core_web_sm'). Used only if analyser not provided.</p>
              </div>
            </td>
            <td>
                  <code><span title="pteredactyl.defaults.DEFAULT_SPACY_MODEL">DEFAULT_SPACY_MODEL</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>language</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The language of the text to be analyzed. Defaults to "en". Used only if analyser not provided.</p>
              </div>
            </td>
            <td>
                  <code>&#39;en&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>mask_individual_words</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, prevents joining of next-door entities together.
(i.e. with Jane Smith, both 'Jane' and 'Smith' are identified separately if True, combined if False). Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>text_separator</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Text separator. Default is whitespace.</p>
              </div>
            </td>
            <td>
                  <code>&#39; &#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>rebuild_regex_recognisers</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, and an existing analyser is provided, the analyser's regex recognisers will be rebuilt before execution.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments for the analyzer.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>list</code></td>            <td>
                  <code>list[<span title="presidio_analyzer.recognizer_result.RecognizerResult">RecognizerResult</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The analysis results.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>from pteredactyl.redactor import analyse
text = "My name is John Doe and my NHS number is 7890123450"
results = analyse(text)
print(results)
[RecognizerResult(entity_type='PERSON', start=10, end=19, score=1.0),
 RecognizerResult(entity_type='NHS_NUMBER', start=36, end=46, score=1.0)]</p>
</blockquote>
</blockquote>
</blockquote>
</details>
            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\redactor.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">analyse</span><span class="p">(</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">analyser</span><span class="p">:</span> <span class="n">AnalyzerEngine</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">entities</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_ENTITIES</span><span class="p">,</span>
    <span class="n">regex_entities</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">PteredactylRecogniser</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_REGEX_ENTITIES</span><span class="p">,</span>
    <span class="n">model_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">spacy_model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SPACY_MODEL</span><span class="p">,</span>
    <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span>
    <span class="n">mask_individual_words</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">text_separator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="p">,</span>
    <span class="n">rebuild_regex_recognisers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">RecognizerResult</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Analyses text using the provided NER models and entities, and returns list of those identified.</span>
<span class="sd">    It is recommended to first create an analyser and feed this in to be reused with:</span>
<span class="sd">        &gt;&gt;&gt; analyser = create_analyser()</span>
<span class="sd">        &gt;&gt;&gt; analyser(text=text, analyser=analyser)</span>

<span class="sd">    Args:</span>
<span class="sd">        text (str): The text to be analyzed.</span>
<span class="sd">        analyser (AnalyzerEngine, optional): An instance of AnalyzerEngine. If not provided, a new analyser will be created</span>
<span class="sd">            (recommend creating first viacreate_analyser(), before feeding in).</span>
<span class="sd">        entities (list, optional): A list of entity types to analyse. If not provided, a default list will be used.</span>
<span class="sd">        regex_entities (list, optional): A list of regex entities or PteredactylRecognisers to analyse. If not provided, a default list will be used.</span>
<span class="sd">        model_path (str): The path to the model used for analysis (e.g. &#39;StanfordAIMI/stanford-deidentifier-base&#39;). Used only if analyser not provided.</span>
<span class="sd">        spacy_model (str): The spaCy model to use (e.g. &#39;en_core_web_sm&#39;). Used only if analyser not provided.</span>
<span class="sd">        language (str): The language of the text to be analyzed. Defaults to &quot;en&quot;. Used only if analyser not provided.</span>
<span class="sd">        mask_individual_words (bool): If True, prevents joining of next-door entities together.</span>
<span class="sd">            (i.e. with Jane Smith, both &#39;Jane&#39; and &#39;Smith&#39; are identified separately if True, combined if False). Defaults to False.</span>
<span class="sd">        text_separator (str): Text separator. Default is whitespace.</span>
<span class="sd">        rebuild_regex_recognisers (bool): If True, and an existing analyser is provided, the analyser&#39;s regex recognisers will be rebuilt before execution.</span>
<span class="sd">        **kwargs: Additional keyword arguments for the analyzer.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: The analysis results.</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; from pteredactyl.redactor import analyse</span>
<span class="sd">        &gt;&gt;&gt; text = &quot;My name is John Doe and my NHS number is 7890123450&quot;</span>
<span class="sd">        &gt;&gt;&gt; results = analyse(text)</span>
<span class="sd">        &gt;&gt;&gt; print(results)</span>
<span class="sd">        [RecognizerResult(entity_type=&#39;PERSON&#39;, start=10, end=19, score=1.0),</span>
<span class="sd">         RecognizerResult(entity_type=&#39;NHS_NUMBER&#39;, start=36, end=46, score=1.0)]</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Prepare</span>
    <span class="n">entities</span> <span class="o">=</span> <span class="p">[</span><span class="n">entities</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">entities</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">entities</span> <span class="k">if</span> <span class="n">entities</span> <span class="k">else</span> <span class="p">[]</span>
    <span class="n">regex_entities</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">build_regex_entity_recogniser_list</span><span class="p">(</span><span class="n">regex_entities</span><span class="o">=</span><span class="n">regex_entities</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">regex_entities</span>
        <span class="k">else</span> <span class="p">[]</span>
    <span class="p">)</span>
    <span class="n">allowed_entities</span> <span class="o">=</span> <span class="n">entities</span>
    <span class="n">allowed_regex_entities</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">regex_entity</span><span class="o">.</span><span class="n">entity_type</span> <span class="k">for</span> <span class="n">regex_entity</span> <span class="ow">in</span> <span class="n">regex_entities</span>
    <span class="p">]</span>
    <span class="n">entities</span> <span class="o">=</span> <span class="n">allowed_entities</span> <span class="o">+</span> <span class="n">allowed_regex_entities</span>

    <span class="c1"># Check Analyser</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">analyser</span><span class="p">:</span>
        <span class="n">analyser</span> <span class="o">=</span> <span class="n">create_analyser</span><span class="p">(</span>
            <span class="n">model_path</span><span class="o">=</span><span class="n">model_path</span><span class="p">,</span>
            <span class="n">spacy_model</span><span class="o">=</span><span class="n">spacy_model</span><span class="p">,</span>
            <span class="n">language</span><span class="o">=</span><span class="n">language</span><span class="p">,</span>
            <span class="n">regex_entities</span><span class="o">=</span><span class="n">regex_entities</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">rebuild_regex_recognisers</span><span class="p">:</span>
            <span class="n">rebuild_analyser_regex_recognisers</span><span class="p">(</span>
                <span class="n">analyser</span><span class="o">=</span><span class="n">analyser</span><span class="p">,</span> <span class="n">regex_entities</span><span class="o">=</span><span class="n">regex_entities</span>
            <span class="p">)</span>

    <span class="c1"># Analyse</span>
    <span class="n">initial_results</span> <span class="o">=</span> <span class="n">analyser</span><span class="o">.</span><span class="n">analyze</span><span class="p">(</span>
        <span class="n">text</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="n">language</span><span class="p">,</span> <span class="n">entities</span><span class="o">=</span><span class="n">entities</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">mask_individual_words</span><span class="p">:</span>
        <span class="n">initial_results</span> <span class="o">=</span> <span class="n">split_results_into_individual_words</span><span class="p">(</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">results</span><span class="o">=</span><span class="n">initial_results</span><span class="p">,</span> <span class="n">text_separator</span><span class="o">=</span><span class="n">text_separator</span>
        <span class="p">)</span>

    <span class="n">results</span> <span class="o">=</span> <span class="n">return_allowed_results</span><span class="p">(</span>
        <span class="n">initial_results</span><span class="o">=</span><span class="n">initial_results</span><span class="p">,</span>
        <span class="n">allowed_entities</span><span class="o">=</span><span class="n">allowed_entities</span><span class="p">,</span>
        <span class="n">allowed_regex_entities</span><span class="o">=</span><span class="n">allowed_regex_entities</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">results</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><h3 id="redactor_anonymiser">Redactor Anonymiser<a class="headerlink" href="#redactor_anonymiser" title="Permanent link">&para;</a></h3>


<div class="doc doc-object doc-function">



<a id="pteredactyl.pteredactyl.redactor.anonymise"></a>
    <div class="doc doc-contents first">

      <p>Anonymises the given text by replacing specified entities by NER, and and regex entities by REGEX. Regex entities take priority and are analysed first.
It is recommended to first create an analyser and feed this in to be reused.</p>
<p>Args:
text (str): The text to be anonymized.
analyser (AnalyzerEngine, optional): An instance of AnalyzerEngine. If not provided, a new analyser will be created.
entities (list, optional): A list of entity types to anonymize. If not provided, a default list will be used.
regex_entities (list, optional): A list of regex entities or PteredactylRecognisers to analyse. If not provided, a default list will be used.
highlight (bool): If True, highlights the anonymized parts in the text.
replacement_lists: (dict, optional): A dictionary with entity types as keys and lists of replacement values for hide-in-plain-sight redaction.
model_path (str): The path to the model used for analysis. Used only if analyser not provided.
spacy_model (str): The spaCy model to use. Used only if analyser not provided.
language (str): The language of the text to be analyzed. Defaults to "en". Used only if analyser not provided.
mask_individual_words (bool): If True, prevents joining of next-door entities together.
        (i.e. Jane Smith becomes <PERSON> <PERSON> if True, or <PERSON> if False). Defaults to False.
text_separator (str): Text separator. Default is whitespace.
rebuild_regex_recognisers (bool): If True, and an existing analyser is provided, the analyser's regex recognisers will be rebuilt before execution.
**kwargs: Additional keyword arguments for analyse.</p>
<p>Returns:
str: The anonymized text.</p>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>analyser = create_analyser()
text = '''
    Patient Name: John Doe
    NHS Number: 7890123450
    Address: AB1 0CD
    Date: January 1, 2022
    Diagnostic Findings:
    The CT scan of the patient's chest revealed a mass in the right upper lobe of the lungs.
    The mass is suspected to be malignant and is likely to be a tumor.
    Further diagnostic tests, such as biopsy or CT scan of the mass, may be required to confirm the diagnosis.
    Recommendations:
    The patient is advised to consult with a medical specialist for a thorough evaluation of the mass.
    If the tumor is malignant, further treatment, such as surgery or radiotherapy, may be recommended.
    '''</p>
<p>results = anonymise(text, analyser=analyser, entities=["DATE_TIME", "PERSON"], regex_recognizers=["POSTCODE", "NHS_NUMBER"])
print(results)</p>
</blockquote>
</blockquote>
</blockquote>
<div class="codehilite"><pre><span></span><code>Patient Name: &lt;PERSON&gt;
NHS Number: &lt;NHS_NUMBER&gt;
Address: &lt;POSTCODE&gt;
Date: &lt;DATE_TIME&gt;
Diagnostic Findings:
The CT scan of the patient&#39;s chest revealed a mass in the right upper lobe of the lungs.
The mass is suspected to be malignant and is likely to be a tumor.
Further diagnostic tests, such as biopsy or CT scan of the mass, may be required to confirm the diagnosis.
Recommendations:
The patient is advised to consult with a medical specialist for a thorough evaluation of the mass.
If the tumor is malignant, further treatment, such as surgery or radiotherapy, may be recommended.
</code></pre></div>
</details>
            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\redactor.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">anonymise</span><span class="p">(</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">analyser</span><span class="p">:</span> <span class="n">AnalyzerEngine</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">entities</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_ENTITIES</span><span class="p">,</span>
    <span class="n">regex_entities</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">PteredactylRecogniser</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_REGEX_ENTITIES</span><span class="p">,</span>
    <span class="n">highlight</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">replacement_lists</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">spacy_model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SPACY_MODEL</span><span class="p">,</span>
    <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span>
    <span class="n">mask_individual_words</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">text_separator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="p">,</span>
    <span class="n">rebuild_regex_recognisers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Anonymises the given text by replacing specified entities by NER, and and regex entities by REGEX. Regex entities take priority and are analysed first.</span>
<span class="sd">    It is recommended to first create an analyser and feed this in to be reused.</span>

<span class="sd">    Args:</span>
<span class="sd">    text (str): The text to be anonymized.</span>
<span class="sd">    analyser (AnalyzerEngine, optional): An instance of AnalyzerEngine. If not provided, a new analyser will be created.</span>
<span class="sd">    entities (list, optional): A list of entity types to anonymize. If not provided, a default list will be used.</span>
<span class="sd">    regex_entities (list, optional): A list of regex entities or PteredactylRecognisers to analyse. If not provided, a default list will be used.</span>
<span class="sd">    highlight (bool): If True, highlights the anonymized parts in the text.</span>
<span class="sd">    replacement_lists: (dict, optional): A dictionary with entity types as keys and lists of replacement values for hide-in-plain-sight redaction.</span>
<span class="sd">    model_path (str): The path to the model used for analysis. Used only if analyser not provided.</span>
<span class="sd">    spacy_model (str): The spaCy model to use. Used only if analyser not provided.</span>
<span class="sd">    language (str): The language of the text to be analyzed. Defaults to &quot;en&quot;. Used only if analyser not provided.</span>
<span class="sd">    mask_individual_words (bool): If True, prevents joining of next-door entities together.</span>
<span class="sd">            (i.e. Jane Smith becomes &lt;PERSON&gt; &lt;PERSON&gt; if True, or &lt;PERSON&gt; if False). Defaults to False.</span>
<span class="sd">    text_separator (str): Text separator. Default is whitespace.</span>
<span class="sd">    rebuild_regex_recognisers (bool): If True, and an existing analyser is provided, the analyser&#39;s regex recognisers will be rebuilt before execution.</span>
<span class="sd">    **kwargs: Additional keyword arguments for analyse.</span>

<span class="sd">    Returns:</span>
<span class="sd">    str: The anonymized text.</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; analyser = create_analyser()</span>
<span class="sd">        &gt;&gt;&gt; text = &#39;&#39;&#39;</span>
<span class="sd">            Patient Name: John Doe</span>
<span class="sd">            NHS Number: 7890123450</span>
<span class="sd">            Address: AB1 0CD</span>
<span class="sd">            Date: January 1, 2022</span>
<span class="sd">            Diagnostic Findings:</span>
<span class="sd">            The CT scan of the patient&#39;s chest revealed a mass in the right upper lobe of the lungs.</span>
<span class="sd">            The mass is suspected to be malignant and is likely to be a tumor.</span>
<span class="sd">            Further diagnostic tests, such as biopsy or CT scan of the mass, may be required to confirm the diagnosis.</span>
<span class="sd">            Recommendations:</span>
<span class="sd">            The patient is advised to consult with a medical specialist for a thorough evaluation of the mass.</span>
<span class="sd">            If the tumor is malignant, further treatment, such as surgery or radiotherapy, may be recommended.</span>
<span class="sd">            &#39;&#39;&#39;</span>

<span class="sd">        &gt;&gt;&gt; results = anonymise(text, analyser=analyser, entities=[&quot;DATE_TIME&quot;, &quot;PERSON&quot;], regex_recognizers=[&quot;POSTCODE&quot;, &quot;NHS_NUMBER&quot;])</span>
<span class="sd">        &gt;&gt;&gt; print(results)</span>

<span class="sd">            Patient Name: &lt;PERSON&gt;</span>
<span class="sd">            NHS Number: &lt;NHS_NUMBER&gt;</span>
<span class="sd">            Address: &lt;POSTCODE&gt;</span>
<span class="sd">            Date: &lt;DATE_TIME&gt;</span>
<span class="sd">            Diagnostic Findings:</span>
<span class="sd">            The CT scan of the patient&#39;s chest revealed a mass in the right upper lobe of the lungs.</span>
<span class="sd">            The mass is suspected to be malignant and is likely to be a tumor.</span>
<span class="sd">            Further diagnostic tests, such as biopsy or CT scan of the mass, may be required to confirm the diagnosis.</span>
<span class="sd">            Recommendations:</span>
<span class="sd">            The patient is advised to consult with a medical specialist for a thorough evaluation of the mass.</span>
<span class="sd">            If the tumor is malignant, further treatment, such as surgery or radiotherapy, may be recommended.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Prepare</span>
    <span class="n">entities</span> <span class="o">=</span> <span class="p">[</span><span class="n">entities</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">entities</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">entities</span> <span class="k">if</span> <span class="n">entities</span> <span class="k">else</span> <span class="p">[]</span>
    <span class="n">regex_entities</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">build_regex_entity_recogniser_list</span><span class="p">(</span><span class="n">regex_entities</span><span class="o">=</span><span class="n">regex_entities</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">regex_entities</span>
        <span class="k">else</span> <span class="p">[]</span>
    <span class="p">)</span>
    <span class="n">allowed_entities</span> <span class="o">=</span> <span class="n">entities</span>
    <span class="n">allowed_regex_entities</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">regex_entity</span><span class="o">.</span><span class="n">entity_type</span> <span class="k">for</span> <span class="n">regex_entity</span> <span class="ow">in</span> <span class="n">regex_entities</span>
    <span class="p">]</span>
    <span class="n">entities</span> <span class="o">=</span> <span class="n">allowed_entities</span> <span class="o">+</span> <span class="n">allowed_regex_entities</span>

    <span class="c1"># Check Analyser</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">analyser</span><span class="p">:</span>
        <span class="n">analyser</span> <span class="o">=</span> <span class="n">create_analyser</span><span class="p">(</span>
            <span class="n">model_path</span><span class="o">=</span><span class="n">model_path</span><span class="p">,</span>
            <span class="n">spacy_model</span><span class="o">=</span><span class="n">spacy_model</span><span class="p">,</span>
            <span class="n">language</span><span class="o">=</span><span class="n">language</span><span class="p">,</span>
            <span class="n">regex_entities</span><span class="o">=</span><span class="n">regex_entities</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">rebuild_regex_recognisers</span><span class="p">:</span>
            <span class="n">rebuild_analyser_regex_recognisers</span><span class="p">(</span>
                <span class="n">analyser</span><span class="o">=</span><span class="n">analyser</span><span class="p">,</span> <span class="n">regex_entities</span><span class="o">=</span><span class="n">regex_entities</span>
            <span class="p">)</span>

    <span class="c1"># Analyse the text</span>
    <span class="n">initial_results</span> <span class="o">=</span> <span class="n">analyse</span><span class="p">(</span>
        <span class="n">text</span><span class="p">,</span>
        <span class="n">analyser</span><span class="p">,</span>
        <span class="n">entities</span><span class="o">=</span><span class="n">entities</span><span class="p">,</span>
        <span class="n">regex_entities</span><span class="o">=</span><span class="n">regex_entities</span><span class="p">,</span>
        <span class="n">mask_individual_words</span><span class="o">=</span><span class="n">mask_individual_words</span><span class="p">,</span>
        <span class="n">text_separator</span><span class="o">=</span><span class="n">text_separator</span><span class="p">,</span>
        <span class="n">rebuild_regex_recognisers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Create an OperatorConfig that randomly selects replacements from the replacement list</span>
    <span class="n">operator_config</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">entities</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">replacement_lists</span><span class="p">:</span>
            <span class="n">operator_config</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">entities</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">replacement_lists</span><span class="p">:</span>
                    <span class="n">operator_config</span><span class="p">[</span><span class="n">entity</span><span class="p">]</span> <span class="o">=</span> <span class="n">OperatorConfig</span><span class="p">(</span>
                        <span class="s2">&quot;replace&quot;</span><span class="p">,</span>
                        <span class="p">{</span><span class="s2">&quot;new_value&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">replacement_lists</span><span class="p">[</span><span class="n">entity</span><span class="p">])},</span>
                    <span class="p">)</span>

    <span class="c1"># Anonymise the text</span>
    <span class="n">anonymiser</span> <span class="o">=</span> <span class="n">AnonymizerEngine</span><span class="p">()</span>

    <span class="c1"># if-else is strictly required as the anonymize method modifies initial_results variable when called</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">mask_individual_words</span><span class="p">:</span>
        <span class="n">anonymized_result</span> <span class="o">=</span> <span class="n">anonymiser</span><span class="o">.</span><span class="n">anonymize</span><span class="p">(</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">analyzer_results</span><span class="o">=</span><span class="n">initial_results</span><span class="p">,</span> <span class="n">operators</span><span class="o">=</span><span class="n">operator_config</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># this is essentially AnonymizerEngine.anonymize without merging adjacent entities of the same type</span>
        <span class="c1"># some discussion around merging adjacent entities: https://github.com/microsoft/presidio/issues/1090</span>
        <span class="n">analyzer_results</span> <span class="o">=</span> <span class="n">anonymiser</span><span class="o">.</span><span class="n">_remove_conflicts_and_get_text_manipulation_data</span><span class="p">(</span>
            <span class="n">initial_results</span><span class="p">,</span> <span class="n">ConflictResolutionStrategy</span><span class="o">.</span><span class="n">MERGE_SIMILAR_OR_CONTAINED</span>
        <span class="p">)</span>
        <span class="n">operators</span> <span class="o">=</span> <span class="n">anonymiser</span><span class="o">.</span><span class="n">_AnonymizerEngine__check_or_add_default_operator</span><span class="p">(</span>
            <span class="n">operator_config</span>
        <span class="p">)</span>
        <span class="n">anonymized_result</span> <span class="o">=</span> <span class="n">anonymiser</span><span class="o">.</span><span class="n">_operate</span><span class="p">(</span>
            <span class="n">text</span><span class="p">,</span> <span class="n">analyzer_results</span><span class="p">,</span> <span class="n">operators</span><span class="p">,</span> <span class="n">OperatorType</span><span class="o">.</span><span class="n">Anonymize</span>
        <span class="p">)</span>

    <span class="c1"># TODO - could be managed by creating an Operatorconfig for &quot;PHONE_NUMBER&quot;</span>
    <span class="n">anonymised_text</span> <span class="o">=</span> <span class="n">anonymized_result</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;PHONE_NUMBER&quot;</span><span class="p">,</span> <span class="s2">&quot;NUMBER&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">highlight_text</span><span class="p">(</span><span class="n">anonymised_text</span><span class="p">)</span> <span class="k">if</span> <span class="n">highlight</span> <span class="k">else</span> <span class="n">anonymised_text</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><h3 id="regex_check_functions">Regex Check Functions<a class="headerlink" href="#regex_check_functions" title="Permanent link">&para;</a></h3>


<div class="doc doc-object doc-module">



<a id="pteredactyl.pteredactyl.regex_check_functions"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="pteredactyl.pteredactyl.regex_check_functions.is_nhs_number" class="doc doc-heading">
            <code class=" language-python"><span class="n">is_nhs_number</span><span class="p">(</span><span class="n">nhs_number</span><span class="p">)</span></code>

<a href="#pteredactyl.pteredactyl.regex_check_functions.is_nhs_number" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Check if a given value is a valid NHS number.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>nhs_number</code></td>
            <td>
                  <code>int | str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The NHS number to be checked.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the given value is a valid NHS number, otherwise False.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>is_nhs_number(1234567890)
True
is_nhs_number("1234567890")
True
is_nhs_number("1234567898")
True # (fails checksum)
is_nhs_number("12345")
False # (fails length check)</p>
</blockquote>
</blockquote>
</blockquote>
</details>

<details class="note" open>
  <summary>Note</summary>
  <p>The NHS number is a 10-digit number used in the United Kingdom for healthcare identification.
The last digit of the NHS number is a check digit calculated by a special modules 11 algorithm for validation.</p>
</details>
            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\regex_check_functions.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_nhs_number</span><span class="p">(</span><span class="n">nhs_number</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if a given value is a valid NHS number.</span>

<span class="sd">    Args:</span>
<span class="sd">        nhs_number (int | str): The NHS number to be checked.</span>
<span class="sd">        Should be a string containing only numbers, (use of spaces and hyphens is permitted and will be processed).</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the given value is a valid NHS number, otherwise False.</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; is_nhs_number(1234567890)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; is_nhs_number(&quot;1234567890&quot;)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; is_nhs_number(&quot;1234567898&quot;)</span>
<span class="sd">        True # (fails checksum)</span>
<span class="sd">        &gt;&gt;&gt; is_nhs_number(&quot;12345&quot;)</span>
<span class="sd">        False # (fails length check)</span>

<span class="sd">    Note:</span>
<span class="sd">        The NHS number is a 10-digit number used in the United Kingdom for healthcare identification.</span>
<span class="sd">        The last digit of the NHS number is a check digit calculated by a special modules 11 algorithm for validation.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Prepare NHS Number</span>
    <span class="n">nhs_number</span> <span class="o">=</span> <span class="p">(</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">nhs_number</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nhs_number</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="k">else</span> <span class="n">nhs_number</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># Check Only Digits</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">nhs_number</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="c1"># Check Length</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">nhs_number</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">10</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="c1"># Check Checksum</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">digit</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nhs_number</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
        <span class="n">position</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">multiplier</span> <span class="o">=</span> <span class="mi">11</span> <span class="o">-</span> <span class="n">position</span>
        <span class="n">total</span> <span class="o">+=</span> <span class="nb">int</span><span class="p">(</span><span class="n">digit</span><span class="p">)</span> <span class="o">*</span> <span class="n">multiplier</span>

    <span class="n">checksum</span> <span class="o">=</span> <span class="mi">11</span> <span class="o">-</span> <span class="p">(</span><span class="n">total</span> <span class="o">%</span> <span class="mi">11</span><span class="p">)</span>
    <span class="n">checksum</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">checksum</span> <span class="o">==</span> <span class="mi">11</span> <span class="k">else</span> <span class="n">checksum</span>
    <span class="n">check_digit</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nhs_number</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">checksum</span> <span class="o">!=</span> <span class="n">check_digit</span> <span class="ow">or</span> <span class="n">checksum</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="c1"># All checks passed</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="regex_entities">Regex Entities<a class="headerlink" href="#regex_entities" title="Permanent link">&para;</a></h3>


<div class="doc doc-object doc-module">



<a id="pteredactyl.pteredactyl.regex_entities"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="pteredactyl.pteredactyl.regex_entities.build_pteredactyl_recogniser" class="doc doc-heading">
            <code class=" language-python"><span class="n">build_pteredactyl_recogniser</span><span class="p">(</span><span class="n">entity_type</span><span class="p">,</span> <span class="n">regex</span><span class="p">,</span> <span class="n">check_function</span><span class="p">)</span></code>

<a href="#pteredactyl.pteredactyl.regex_entities.build_pteredactyl_recogniser" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Build a custom regex ptererecogniser for pteredactyl.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>entity_type</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the entity to be recognised.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>regex</code></td>
            <td>
                  <code>str or <span title="re.Pattern">Pattern</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The regular expression to match the entity.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>check_function</code></td>
            <td>
                  <code><span title="collections.abc.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function to check if the matched string is a valid entity. Should take a single argument (the matched string) and return a boolean.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>PteredactylRecogniser</code></td>            <td>
                  <code><span title="pteredactyl.recognisers.pteredactyl_recogniser.PteredactylRecogniser">PteredactylRecogniser</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A custom presidio EntityRecognizer object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
      <p>Example:</p>
<blockquote>
<blockquote>
<blockquote>
<p>def check_soton_landline(input: str):
... cleaned = input.replace('-','').replace(' ','')
... return cleaned.startswith('0238')</p>
<p>recogniser = build_pteredactyl_recogniser(entity_type='SOUTHAMPTON_LANDLINE',
...                                           regex=r'(?:\d[\s-]?){11}',
...                                           check_function=check_soton_landline)</p>
</blockquote>
</blockquote>
</blockquote>

            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\regex_entities.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">build_pteredactyl_recogniser</span><span class="p">(</span>
    <span class="n">entity_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">Pattern</span><span class="p">,</span>
    <span class="n">check_function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PteredactylRecogniser</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build a custom regex ptererecogniser for pteredactyl.</span>

<span class="sd">    Args:</span>
<span class="sd">        entity_type (str): The name of the entity to be recognised.</span>
<span class="sd">        regex (str or re.Pattern): The regular expression to match the entity.</span>
<span class="sd">        check_function (Callable, optional): A function to check if the matched string is a valid entity. Should take a single argument (the matched string) and return a boolean.</span>

<span class="sd">    Returns:</span>
<span class="sd">        PteredactylRecogniser: A custom presidio EntityRecognizer object.</span>

<span class="sd">    Example:</span>
<span class="sd">    &gt;&gt;&gt; def check_soton_landline(input: str):</span>
<span class="sd">    ... cleaned = input.replace(&#39;-&#39;,&#39;&#39;).replace(&#39; &#39;,&#39;&#39;)</span>
<span class="sd">    ... return cleaned.startswith(&#39;0238&#39;)</span>


<span class="sd">    &gt;&gt;&gt; recogniser = build_pteredactyl_recogniser(entity_type=&#39;SOUTHAMPTON_LANDLINE&#39;,</span>
<span class="sd">    ...                                           regex=r&#39;(?:\\d[\\s-]?){11}&#39;,</span>
<span class="sd">    ...                                           check_function=check_soton_landline)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">regex</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">regex</span>
    <span class="k">return</span> <span class="n">PteredactylRecogniser</span><span class="p">(</span>
        <span class="n">entity_type</span><span class="o">=</span><span class="n">entity_type</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="n">regex</span><span class="p">,</span> <span class="n">check_function</span><span class="o">=</span><span class="n">check_function</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pteredactyl.pteredactyl.regex_entities.build_regex_entity_recogniser_list" class="doc doc-heading">
            <code class=" language-python"><span class="n">build_regex_entity_recogniser_list</span><span class="p">(</span><span class="n">regex_entities</span><span class="p">)</span></code>

<a href="#pteredactyl.pteredactyl.regex_entities.build_regex_entity_recogniser_list" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Build a list of custom regex PteredactylRecognisers.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>regex_entities</code></td>
            <td>
                  <code>list[str or <span title="pteredactyl.recognisers.pteredactyl_recogniser.PteredactylRecogniser">PteredactylRecogniser</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of PteredactylRecogniser objects or strings referencing pre-built PteredactylRecognisers.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[<span title="pteredactyl.recognisers.pteredactyl_recogniser.PteredactylRecogniser">PteredactylRecogniser</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[PteredactylRecogniser]: A list of custom presidio EntityRecognizer objects.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
      <p>Example:</p>
<blockquote>
<blockquote>
<blockquote>
<p>recognisers = build_regex_entity_recogniser_list(['NHS_NUMBER',
...                                                    'ENTITY_2',
...                                                    PteredactylRecogniser(entity_type='SOUTHAMPTON_LANDLINE',
...                                                                          regex=r'\b((?:+44\s?7\d{3}|<script type="math/tex">?07\d{3}</script>?)\s?\d{3}\s?\d{3}|<script type="math/tex">?01\d{1,4}</script>?\s?\d{1,4}\s?\d{1,4})\b',
...                                                                          check_function=check_so_landline
...                                                   ])</p>
</blockquote>
</blockquote>
</blockquote>

            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\regex_entities.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">build_regex_entity_recogniser_list</span><span class="p">(</span>
    <span class="n">regex_entities</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">PteredactylRecogniser</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">PteredactylRecogniser</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">PteredactylRecogniser</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build a list of custom regex PteredactylRecognisers.</span>

<span class="sd">    Args:</span>
<span class="sd">        regex_entities (list[str or PteredactylRecogniser]): A list of PteredactylRecogniser objects or strings referencing pre-built PteredactylRecognisers.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[PteredactylRecogniser]: A list of custom presidio EntityRecognizer objects.</span>

<span class="sd">    Example:</span>
<span class="sd">    &gt;&gt;&gt; recognisers = build_regex_entity_recogniser_list([&#39;NHS_NUMBER&#39;,</span>
<span class="sd">    ...                                                    &#39;ENTITY_2&#39;,</span>
<span class="sd">    ...                                                    PteredactylRecogniser(entity_type=&#39;SOUTHAMPTON_LANDLINE&#39;,</span>
<span class="sd">    ...                                                                          regex=r&#39;\\b((?:\\+44\\s?7\\d{3}|\\(?07\\d{3}\\)?)\\s?\\d{3}\\s?\\d{3}|\\(?01\\d{1,4}\\)?\\s?\\d{1,4}\\s?\\d{1,4})\\b&#39;,</span>
<span class="sd">    ...                                                                          check_function=check_so_landline</span>
<span class="sd">    ...                                                   ])</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">regex_entity_recognisers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">regex_entities</span><span class="p">)</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">PteredactylRecogniser</span><span class="p">):</span>
        <span class="n">regex_entities</span> <span class="o">=</span> <span class="p">[</span><span class="n">regex_entities</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">regex_entity</span> <span class="ow">in</span> <span class="n">regex_entities</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">regex_entity</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">regex_entity_recognisers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">fetch_pteredactyl_recogniser</span><span class="p">(</span><span class="n">entity_type</span><span class="o">=</span><span class="n">regex_entity</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">regex_entity_recognisers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">regex_entity</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">regex_entity_recognisers</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pteredactyl.pteredactyl.regex_entities.rebuild_analyser_regex_recognisers" class="doc doc-heading">
            <code class=" language-python"><span class="n">rebuild_analyser_regex_recognisers</span><span class="p">(</span><span class="n">analyser</span><span class="p">,</span> <span class="n">regex_entities</span><span class="p">)</span></code>

<a href="#pteredactyl.pteredactyl.regex_entities.rebuild_analyser_regex_recognisers" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Rebuilds the analyser's regex recognisers with the supplied list of regex entities.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>analyser</code></td>
            <td>
                  <code><span title="presidio_analyzer.AnalyzerEngine">AnalyzerEngine</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The analyser to rebuild.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>regex_entities</code></td>
            <td>
                  <code>list[str or <span title="pteredactyl.recognisers.pteredactyl_recogniser.PteredactylRecogniser">PteredactylRecogniser</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of regex entities to use.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
      <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\regex_entities.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">rebuild_analyser_regex_recognisers</span><span class="p">(</span>
    <span class="n">analyser</span><span class="p">:</span> <span class="n">AnalyzerEngine</span><span class="p">,</span> <span class="n">regex_entities</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">PteredactylRecogniser</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Rebuilds the analyser&#39;s regex recognisers with the supplied list of regex entities.</span>

<span class="sd">    Args:</span>
<span class="sd">        analyser (AnalyzerEngine): The analyser to rebuild.</span>
<span class="sd">        regex_entities (list[str or PteredactylRecogniser]): The list of regex entities to use.</span>

<span class="sd">    Returns:</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">analyser</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">remove_recognizer</span><span class="p">(</span><span class="n">PTEREDACTYL_RECOGNISER_NAME</span><span class="p">)</span>
    <span class="n">pteredactyl_recognisers</span> <span class="o">=</span> <span class="n">build_regex_entity_recogniser_list</span><span class="p">(</span><span class="n">regex_entities</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">recogniser</span> <span class="ow">in</span> <span class="n">pteredactyl_recognisers</span><span class="p">:</span>
        <span class="n">analyser</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">add_recognizer</span><span class="p">(</span><span class="n">recogniser</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="support">Support<a class="headerlink" href="#support" title="Permanent link">&para;</a></h3>


<div class="doc doc-object doc-module">



<a id="pteredactyl.pteredactyl.support"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="pteredactyl.pteredactyl.support.find_substring_positions" class="doc doc-heading">
            <code class=" language-python"><span class="n">find_substring_positions</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span></code>

<a href="#pteredactyl.pteredactyl.support.find_substring_positions" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Finds the starting and ending indexes of substrings in the input string <code>s</code>.
    The substrings are determined by splitting <code>s</code> at separator.</p>
<div class="codehilite"><pre><span></span><code>Args:
    s (str): The input string containing substrings separated by newlines.
    sept (str): Separator for substrings.

Returns:
    list[tuple[int, int]]: A list of tuples, each containing the start and end index of a substring.

Examples:
&gt;&gt;&gt; s = &quot;abc
</code></pre></div>

<p>def"
    &gt;&gt;&gt; positions = find_substring_positions(s, sep="
")
    &gt;&gt;&gt; print("Replacement Positions: ", positions)
    Replacement Positions: [(0, 3), (4, 7)]</p>

            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\support.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">find_substring_positions</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">sep</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Finds the starting and ending indexes of substrings in the input string `s`.</span>
<span class="sd">    The substrings are determined by splitting `s` at separator.</span>

<span class="sd">    Args:</span>
<span class="sd">        s (str): The input string containing substrings separated by newlines.</span>
<span class="sd">        sept (str): Separator for substrings.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[tuple[int, int]]: A list of tuples, each containing the start and end index of a substring.</span>

<span class="sd">    Examples:</span>
<span class="sd">    &gt;&gt;&gt; s = &quot;abc\ndef&quot;</span>
<span class="sd">    &gt;&gt;&gt; positions = find_substring_positions(s, sep=&quot;\n&quot;)</span>
<span class="sd">    &gt;&gt;&gt; print(&quot;Replacement Positions: &quot;, positions)</span>
<span class="sd">    Replacement Positions: [(0, 3), (4, 7)]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">replacement_positions</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">substring</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">sep</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">substring</span><span class="p">),</span> <span class="n">s</span><span class="p">):</span>
            <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">span</span><span class="p">()</span>
            <span class="n">replacement_positions</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">replacement_positions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pteredactyl.pteredactyl.support.load_nlp_configuration" class="doc doc-heading">
            <code class=" language-python"><span class="n">load_nlp_configuration</span><span class="p">(</span><span class="n">language</span><span class="p">,</span> <span class="n">spacy_model</span><span class="p">)</span></code>

<a href="#pteredactyl.pteredactyl.support.load_nlp_configuration" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Loads NLP configuration for spacy model</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>language</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Model language (e.g. en)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>spacy_model</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of spacy model (e.g. en_core_web_sm)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code>dict[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>configuration dictionary that can be passed to create an NlpEngineProvider</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\support.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load_nlp_configuration</span><span class="p">(</span><span class="n">language</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">spacy_model</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Loads NLP configuration for spacy model</span>

<span class="sd">    Args:</span>
<span class="sd">        language (str): Model language (e.g. en)</span>
<span class="sd">        spacy_model (str): Name of spacy model (e.g. en_core_web_sm)</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: configuration dictionary that can be passed to create an NlpEngineProvider</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;nlp_engine_name&quot;</span><span class="p">:</span> <span class="s2">&quot;spacy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;models&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;lang_code&quot;</span><span class="p">:</span> <span class="n">language</span><span class="p">,</span>
                <span class="s2">&quot;model_name&quot;</span><span class="p">:</span> <span class="n">spacy_model</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;ner_model_configuration&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;labels_to_ignore&quot;</span><span class="p">:</span> <span class="n">SPACY_LABELS_TO_IGNORE</span><span class="p">},</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pteredactyl.pteredactyl.support.load_nlp_engine" class="doc doc-heading">
            <code class=" language-python"><span class="n">load_nlp_engine</span><span class="p">(</span><span class="n">presidio_logger</span><span class="p">,</span> <span class="n">nlp_configuration</span><span class="p">)</span></code>

<a href="#pteredactyl.pteredactyl.support.load_nlp_engine" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Loads a NlpEngineProvider by creating a new engine.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>presidio_logger</code></td>
            <td>
                  <code><span title="logging.Logger">Logger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Logger object to set and restore logging level.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>nlp_configuration</code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Configuration for the NlpEngineProvider.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>NlpEngineProvider</code></td>            <td>
                  <code><span title="presidio_analyzer.nlp_engine.NlpEngine">NlpEngine</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The loaded engine.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\support.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load_nlp_engine</span><span class="p">(</span>
    <span class="n">presidio_logger</span><span class="p">:</span> <span class="n">Logger</span><span class="p">,</span> <span class="n">nlp_configuration</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NlpEngine</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Loads a NlpEngineProvider by creating a new engine.</span>

<span class="sd">    Args:</span>
<span class="sd">        presidio_logger (Logger): Logger object to set and restore logging level.</span>
<span class="sd">        nlp_configuration (dict): Configuration for the NlpEngineProvider.</span>

<span class="sd">    Returns:</span>
<span class="sd">        NlpEngineProvider: The loaded engine.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log_level</span> <span class="o">=</span> <span class="n">presidio_logger</span><span class="o">.</span><span class="n">level</span>
    <span class="n">presidio_logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="s2">&quot;ERROR&quot;</span><span class="p">)</span>
    <span class="n">nlp_engine</span> <span class="o">=</span> <span class="n">NlpEngineProvider</span><span class="p">(</span><span class="n">nlp_configuration</span><span class="o">=</span><span class="n">nlp_configuration</span><span class="p">)</span><span class="o">.</span><span class="n">create_engine</span><span class="p">()</span>
    <span class="n">presidio_logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">log_level</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">nlp_engine</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pteredactyl.pteredactyl.support.load_registry" class="doc doc-heading">
            <code class=" language-python"><span class="n">load_registry</span><span class="p">(</span><span class="n">transformers_recogniser</span><span class="p">,</span> <span class="n">regex_entities</span><span class="p">)</span></code>

<a href="#pteredactyl.pteredactyl.support.load_registry" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Creates an AnalyzerEngine.registry by combining a TransformersRecogniser with a list of custom PteredactylRecognisers</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>transformers_recogniser</code></td>
            <td>
                  <code><span title="pteredactyl.recognisers.transformers_recogniser.TransformersRecogniser">TransformersRecogniser</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom transformers recogniser</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>regex_entities</code></td>
            <td>
                  <code>list[str | <span title="pteredactyl.recognisers.pteredactyl_recogniser.PteredactylRecogniser">PteredactylRecogniser</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Named regex entities to generate PtereractylRecognisers, or custom PtereractylRecognisers</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>RecognizerRegistry</code></td>            <td>
                  <code><span title="presidio_analyzer.RecognizerRegistry">RecognizerRegistry</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>registry of Recognisers for an AnalyzerEngine</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\support.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load_registry</span><span class="p">(</span>
    <span class="n">transformers_recogniser</span><span class="p">:</span> <span class="n">TransformersRecogniser</span><span class="p">,</span>
    <span class="n">regex_entities</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">PteredactylRecogniser</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RecognizerRegistry</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates an AnalyzerEngine.registry by combining a TransformersRecogniser with a list of custom PteredactylRecognisers</span>

<span class="sd">    Args:</span>
<span class="sd">        transformers_recogniser (TransformersRecogniser): Custom transformers recogniser</span>
<span class="sd">        regex_entities (list[str | PteredactylRecogniser]): Named regex entities to generate PtereractylRecognisers, or custom PtereractylRecognisers</span>

<span class="sd">    Returns:</span>
<span class="sd">        RecognizerRegistry: registry of Recognisers for an AnalyzerEngine</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">registry</span> <span class="o">=</span> <span class="n">RecognizerRegistry</span><span class="p">()</span>
    <span class="c1"># registry.load_predefined_recognizers() # Presidio default recognizers - largely not needed</span>
    <span class="n">registry</span><span class="o">.</span><span class="n">add_recognizer</span><span class="p">(</span><span class="n">transformers_recogniser</span><span class="p">)</span>
    <span class="n">registry</span><span class="o">.</span><span class="n">remove_recognizer</span><span class="p">(</span><span class="s2">&quot;SpacyRecognizer&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">regex_entities</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">regex_entities</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">entity</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">recogniser</span> <span class="o">=</span> <span class="n">fetch_pteredactyl_recogniser</span><span class="p">(</span><span class="n">entity_type</span><span class="o">=</span><span class="n">entity</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">entity</span><span class="p">,</span> <span class="n">PteredactylRecogniser</span><span class="p">):</span>
                <span class="n">recogniser</span> <span class="o">=</span> <span class="n">entity</span>
            <span class="n">registry</span><span class="o">.</span><span class="n">add_recognizer</span><span class="p">(</span><span class="n">recogniser</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">registry</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pteredactyl.pteredactyl.support.load_spacy_model" class="doc doc-heading">
            <code class=" language-python"><span class="n">load_spacy_model</span><span class="p">(</span><span class="n">spacy_model</span><span class="p">)</span></code>

<a href="#pteredactyl.pteredactyl.support.load_spacy_model" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Downloads spacy model if not already installed</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>spacy_model</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of spacy model</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\support.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load_spacy_model</span><span class="p">(</span><span class="n">spacy_model</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Downloads spacy model if not already installed</span>

<span class="sd">    Args:</span>
<span class="sd">        spacy_model (str): Name of spacy model</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">spacy</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">is_package</span><span class="p">(</span><span class="n">spacy_model</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Downloading model &#39;</span><span class="si">{</span><span class="n">spacy_model</span><span class="si">}</span><span class="s2">&#39; for the first time, please wait...&quot;</span><span class="p">)</span>
        <span class="n">spacy</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">spacy_model</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pteredactyl.pteredactyl.support.load_transformers_recognizer" class="doc doc-heading">
            <code class=" language-python"><span class="n">load_transformers_recognizer</span><span class="p">(</span><span class="n">model_path</span><span class="p">)</span></code>

<a href="#pteredactyl.pteredactyl.support.load_transformers_recognizer" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Loads transformers recognizer with the specified model path</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>model_path</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the transformer model</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>TransformersRecogniser</code></td>            <td>
                  <code><span title="pteredactyl.recognisers.transformers_recogniser.TransformersRecogniser">TransformersRecogniser</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Loaded transformers recognizer</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\support.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load_transformers_recognizer</span><span class="p">(</span><span class="n">model_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransformersRecogniser</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Loads transformers recognizer with the specified model path</span>

<span class="sd">    Args:</span>
<span class="sd">        model_path (str): Path to the transformer model</span>

<span class="sd">    Returns:</span>
<span class="sd">        TransformersRecogniser: Loaded transformers recognizer</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loading transformers recognizer with model path: </span><span class="si">{</span><span class="n">model_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">_get_config</span><span class="p">(</span><span class="n">model_path</span><span class="o">=</span><span class="n">model_path</span><span class="p">)</span>
    <span class="n">transformers_recognizer</span> <span class="o">=</span> <span class="n">TransformersRecogniser</span><span class="p">(</span><span class="n">model_path</span><span class="o">=</span><span class="n">model_path</span><span class="p">)</span>
    <span class="n">transformers_recognizer</span><span class="o">.</span><span class="n">load_transformer</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Model </span><span class="si">{</span><span class="n">model_path</span><span class="si">}</span><span class="s2"> loaded successfully&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">transformers_recognizer</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pteredactyl.pteredactyl.support.return_allowed_results" class="doc doc-heading">
            <code class=" language-python"><span class="n">return_allowed_results</span><span class="p">(</span><span class="n">initial_results</span><span class="p">,</span> <span class="n">allowed_entities</span><span class="p">,</span> <span class="n">allowed_regex_entities</span><span class="p">)</span></code>

<a href="#pteredactyl.pteredactyl.support.return_allowed_results" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Checks list of RecognizerResults for allowed entities returns a list of allowed results.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>initial_results</code></td>
            <td>
                  <code>list[<span title="presidio_analyzer.recognizer_result.RecognizerResult">RecognizerResult</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of RecognizerResults to filter.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>allowed_entities</code></td>
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of entity types to allow.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>allowed_regex_entities</code></td>
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of regex entity types to allow.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[<span title="presidio_analyzer.recognizer_result.RecognizerResult">RecognizerResult</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[RecognizerResult]: The filtered list of RecognizerResults.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\support.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">return_allowed_results</span><span class="p">(</span>
    <span class="n">initial_results</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">RecognizerResult</span><span class="p">],</span>
    <span class="n">allowed_entities</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">allowed_regex_entities</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">RecognizerResult</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks list of RecognizerResults for allowed entities returns a list of allowed results.</span>

<span class="sd">    Args:</span>
<span class="sd">        initial_results (list[RecognizerResult]): The list of RecognizerResults to filter.</span>
<span class="sd">        allowed_entities (list[str]): The list of entity types to allow.</span>
<span class="sd">        allowed_regex_entities (list[str]): The list of regex entity types to allow.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[RecognizerResult]: The filtered list of RecognizerResults.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">initial_results</span><span class="p">:</span>
        <span class="n">recogniser</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">recognition_metadata</span><span class="p">[</span><span class="s2">&quot;recognizer_name&quot;</span><span class="p">]</span>
        <span class="n">entity_type</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">entity_type</span>

        <span class="k">if</span> <span class="n">recogniser</span> <span class="o">==</span> <span class="n">PTEREDACTYL_RECOGNISER_NAME</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">entity_type</span> <span class="ow">in</span> <span class="n">allowed_regex_entities</span><span class="p">:</span>
                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">entity_type</span> <span class="ow">in</span> <span class="n">allowed_entities</span><span class="p">:</span>
                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pteredactyl.pteredactyl.support.split_results_into_individual_words" class="doc doc-heading">
            <code class=" language-python"><span class="n">split_results_into_individual_words</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">results</span><span class="p">,</span> <span class="n">text_separator</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span></code>

<a href="#pteredactyl.pteredactyl.support.split_results_into_individual_words" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Splits identified RecognizerResults into individual words. For example, Jane Smith becomes <PERSON> <PERSON>, rather than <PERSON>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text that was analyzed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>results</code></td>
            <td>
                  <code>list[<span title="presidio_analyzer.recognizer_result.RecognizerResult">RecognizerResult</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The results of the analysis.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>text_separator</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The separator used to split the text into individual words.</p>
              </div>
            </td>
            <td>
                  <code>&#39; &#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[<span title="presidio_analyzer.recognizer_result.RecognizerResult">RecognizerResult</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[RecognizerResult]: A list of RecognizerResults, each representing an individual word.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pteredactyl\pteredactyl\support.py</code></summary>
              <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">split_results_into_individual_words</span><span class="p">(</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">results</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">RecognizerResult</span><span class="p">],</span> <span class="n">text_separator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">RecognizerResult</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Splits identified RecognizerResults into individual words. For example, Jane Smith becomes &lt;PERSON&gt; &lt;PERSON&gt;, rather than &lt;PERSON&gt;.</span>

<span class="sd">    Args:</span>
<span class="sd">        text (str): The text that was analyzed.</span>
<span class="sd">        results (list[RecognizerResult]): The results of the analysis.</span>
<span class="sd">        text_separator (str): The separator used to split the text into individual words.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[RecognizerResult]: A list of RecognizerResults, each representing an individual word.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">masked_individual_words_results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
        <span class="n">substrings</span> <span class="o">=</span> <span class="n">text</span><span class="p">[</span><span class="n">result</span><span class="o">.</span><span class="n">start</span> <span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">end</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">substring_position</span> <span class="ow">in</span> <span class="n">find_substring_positions</span><span class="p">(</span>
            <span class="n">substrings</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="n">text_separator</span>
        <span class="p">):</span>
            <span class="n">offset</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">start</span>
            <span class="n">masked_individual_words_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">RecognizerResult</span><span class="p">(</span>
                    <span class="n">entity_type</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">entity_type</span><span class="p">,</span>
                    <span class="n">start</span><span class="o">=</span><span class="n">substring_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">offset</span><span class="p">,</span>
                    <span class="n">end</span><span class="o">=</span><span class="n">substring_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">offset</span><span class="p">,</span>
                    <span class="n">score</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">score</span><span class="p">,</span>
                    <span class="n">analysis_explanation</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">analysis_explanation</span><span class="p">,</span>
                    <span class="n">recognition_metadata</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">recognition_metadata</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
    <span class="k">return</span> <span class="n">masked_individual_words_results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2024 SETT Data and AI
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/MattStammers" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/MattStammers_" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["tabs"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/highlight.min.js"></script>
      
        <script src="../../assets/js/custom.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>